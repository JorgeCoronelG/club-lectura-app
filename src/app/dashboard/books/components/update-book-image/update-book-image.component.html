<form [formGroup]="fileForm" (ngSubmit)="save()">
  <div class="flex items-center" mat-dialog-title>
    <h2 class="headline m-0 flex-auto">
      Actualizar imagen
    </h2>

    <button class="text-secondary"
            mat-dialog-close
            mat-icon-button
            type="button">
      <mat-icon svgIcon="mat:close"></mat-icon>
    </button>
  </div>

  <mat-divider class="text-border"></mat-divider>

  <mat-dialog-content class="flex flex-col gap-3">
    <div class="flex-auto justify-center mx-auto">
      <div class="flex-col" *ngIf="!imgTemp">
        <h5 class="flex justify-center">Imagen actual</h5>
        <img class="h-52 w-52 object-cover rounded block" [src]="data.imagen|url" [alt]="data.titulo">
      </div>

      <div class="flex-col" *ngIf="imgTemp">
        <h5 class="flex justify-center">Imagen nueva</h5>
        <img class="h-52 w-52 object-cover rounded block" [src]="imgTemp" [alt]="data.titulo">
      </div>
    </div>

    <div class="flex-auto mt-1">
      <input class="flex-auto px-2 py-1 text-sm font-normal bg-clip-padding border border-solid
            border-gray-300 rounded transition ease-in-out m-0 focus:border-blue-600 focus:outline-none cursor-pointer"
             id="file"
             type="file"
             accept="image/*"
             formControlName="imagen"
             (change)="changeImage($event)">

      <mat-error *ngIf="fileForm.get('imagen')?.hasError('required')">
        Campo obligatorio
      </mat-error>
      <mat-error *ngIf="fileForm.get('imageSrc')?.hasError('sizeFile')">
        El tama√±o de la imagen debe ser menor a 5mb
      </mat-error>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button
      mat-button
      mat-dialog-close
      type="button">
      Cerrar
    </button>
    <button
      color="primary"
      mat-flat-button
      type="submit">
      Guardar
    </button>
  </mat-dialog-actions>
</form>
